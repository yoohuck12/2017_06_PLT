define("app/data/frontpage_scribe",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function frontpageScribe(){this.frontpageScribes={signin:{component:"login_callout",element:"form",action:"login_click"},signup:{component:"signup_callout",element:"form",action:"signup_click"},search:{component:"main",element:"search_field",action:"search"},language:{component:"footer",element:"language_selector",action:"select"}},this.scribeFrontpageForm=function(a,b){var c=a.target.className.match(/signin|signup|language|search/);c.length&&this.scribe(this.frontpageScribes[c[0]])},this.scribeFrontpageLink=function(a,b){var c=a.target.className;c=="signup-welcome-link"?this.scribe({component:"lifeline",element:"welcome_text",action:"signup_click"}):c.indexOf("app-store")!=-1?this.scribe({page:"front",section:"front",component:"download",element:"ios",action:"click"}):c.indexOf("google-play")!=-1?this.scribe({page:"front",section:"front",component:"download",element:"android",action:"click"}):$(a.target).parent().hasClass("devices-link")?this.scribe({page:"front",section:"front",component:"download",element:"other",action:"click"}):c.indexOf("tweet-text")!=-1?this.scribe({page:"front",section:"front",component:"tweet",element:"lohp_tweet_text",action:"click"}):c.indexOf("tweet-username")!=-1?this.scribe({page:"front",section:"front",component:"tweet",element:"lohp_tweet_username",action:"click"}):c.indexOf("tweet-time")!=-1&&this.scribe({page:"front",section:"front",component:"tweet",element:"lohp_tweet_time",action:"click"})},this.after("initialize",function(){this.on("submit",this.scribeFrontpageForm),this.on("click",this.scribeFrontpageLink)})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(frontpageScribe,withScribe)
});
define("app/ui/cookie_warning",["module","require","exports","core/component"],function(module, require, exports) {
function cookieWarning(){this.cookiesEnabled=function(){var a=!!navigator.cookieEnabled;if(typeof navigator.cookieEnabled=="undefined"||$.browser.msie)document.cookie="cookies_enabled",a=document.cookie.indexOf("cookies_enabled")!=-1;return a},this.showWarning=function(){this.cookiesEnabled()||this.$node.show("fast")},this.after("initialize",function(){this.on(document,"uiSwiftLoaded",this.showWarning)})}var component=require("core/component");module.exports=component(cookieWarning)
});
define("app/pages/frontpage",["module","require","exports","app/boot/common","app/boot/logged_out","app/ui/login_form","app/data/frontpage_scribe","app/ui/cookie_warning","app/utils/cookie","app/ui/track_ga_events","app/ui/macaw_nymizer_signin_conversion","app/ui/search_input","app/data/search_input_scribe","app/data/typeahead/typeahead","app/data/typeahead_scribe","app/ui/typeahead/typeahead_input","app/ui/typeahead/typeahead_dropdown","core/utils"],function(module, require, exports) {
var bootCommon=require("app/boot/common"),bootLoggedOut=require("app/boot/logged_out"),LoginForm=require("app/ui/login_form"),FrontpageScribe=require("app/data/frontpage_scribe"),CookieWarning=require("app/ui/cookie_warning"),cookie=require("app/utils/cookie"),SigninGAEvent=require("app/ui/track_ga_events"),MacawNymizerSigninConversion=require("app/ui/macaw_nymizer_signin_conversion"),SearchInput=require("app/ui/search_input"),SearchInputScribe=require("app/data/search_input_scribe"),TypeaheadData=require("app/data/typeahead/typeahead"),TypeaheadScribe=require("app/data/typeahead_scribe"),TypeaheadInput=require("app/ui/typeahead/typeahead_input"),TypeaheadDropdown=require("app/ui/typeahead/typeahead_dropdown");utils=require("core/utils"),module.exports=function(a){bootCommon(a),bootLoggedOut(a),$('.front-signin input[name="session[username_or_email]"]').focus(),a.passwordResetAdvancedLoginForm&&LoginForm.attachTo(".js-front-signin"),FrontpageScribe.attachTo(document,a),document.activeElement.tagName.toLowerCase()!="input"&&$(".front-signin .email-input").focus();var b=$('input[name="remember_me"]');b.prop("checked",cookie("remember_checked_on")!=="0"),CookieWarning.attachTo("#front-no-cookies-warn"),SigninGAEvent.attachTo(".js-front-signin"),MacawNymizerSigninConversion.attachTo(".js-front-signin");if(a.lohpSearchboxEnabled){SearchInput.attachTo("#global-nav-search",{eventData:{scribeContext:{component:"top_bar_searchbox",element:""}}}),SearchInputScribe.attachTo("#global-nav-search",{noTeardown:!0});var c=[["topics",["topics"]],["accounts",["accounts"]]];TypeaheadScribe.attachTo(document,{noTeardown:!0}),TypeaheadData.attachTo(document,a.typeaheadData,{noTeardown:!0}),TypeaheadInput.attachTo("#global-nav-search"),TypeaheadDropdown.attachTo("#global-nav-search",{datasourceRenders:c,accountsShortcutShow:!0,autocompleteAccounts:!1,deciders:utils.merge(a.typeaheadData,{showSocialContext:a.typeaheadData.showSearchAccountSocialContext}),eventData:{scribeContext:{component:"top_bar_searchbox",element:"typeahead"}}})}}
});
define("app/data/login_scribe",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function LoginScribe(){this.scribeSignupClick=function(a,b){this.scribe({component:"signup_callout",element:"signup_link",action:"click"},b)},this.after("initialize",function(){this.on("uiSignupLinkClicked",this.scribeSignupClick)})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(LoginScribe,withScribe)
});
define("app/pages/login",["module","require","exports","app/boot/common","app/ui/login_form","app/data/login_scribe","core/i18n","app/ui/track_ga_events","app/ui/macaw_nymizer_signin_conversion"],function(module, require, exports) {
var boot=require("app/boot/common"),LoginForm=require("app/ui/login_form"),LoginScribe=require("app/data/login_scribe"),_=require("core/i18n"),SigninGAEvent=require("app/ui/track_ga_events"),MacawNymizerSigninConversion=require("app/ui/macaw_nymizer_signin_conversion");module.exports=function(a){boot(a),a.passwordResetAdvancedLoginForm&&LoginForm.attachTo(".signin-wrapper"),LoginScribe.attachTo(document,a),$("#login-signup-link").click(function(a){$(document).trigger("uiSignupLinkClicked")}),$(".signin-wrapper").data("login-message")&&$(document).trigger("uiShowMessage",{message:_('You must log in to do that')}),$(".js-username-field").focus(),SigninGAEvent.attachTo(".signin-wrapper"),MacawNymizerSigninConversion.attachTo(".signin-wrapper")}
});